[{"C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\myApp\\Porest\\src\\main\\webapp\\src\\App.js":"1","C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\myApp\\Porest\\src\\main\\webapp\\src\\index.js":"2","C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\myApp\\Porest\\src\\main\\webapp\\src\\components\\routing\\AppRouter.jsx":"3","C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\myApp\\Porest\\src\\main\\webapp\\src\\components\\routing\\PrivateRouter.js":"4","C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\myApp\\Porest\\src\\main\\webapp\\src\\components\\login\\login.jsx":"5","C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\myApp\\Porest\\src\\main\\webapp\\src\\components\\home\\home.jsx":"6","C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\myApp\\Porest\\src\\main\\webapp\\src\\js\\icons.js":"7","C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\myApp\\Porest\\src\\main\\webapp\\src\\components\\common\\TabPanel.js":"8","C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\myApp\\Porest\\src\\main\\webapp\\src\\components\\home\\home-tabs\\homeTab.jsx":"9","C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\myApp\\Porest\\src\\main\\webapp\\src\\components\\home\\home-tabs\\friendsTab.jsx":"10","C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\myApp\\Porest\\src\\main\\webapp\\src\\components\\home\\home-tabs\\notificationsTab.jsx":"11","C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\myApp\\Porest\\src\\main\\webapp\\src\\components\\home\\home-tabs\\profileTab.jsx":"12"},{"size":374,"mtime":1616191018388,"results":"13","hashOfConfig":"14"},{"size":280,"mtime":1612438380657,"results":"15","hashOfConfig":"14"},{"size":510,"mtime":1612265612047,"results":"16","hashOfConfig":"14"},{"size":362,"mtime":1611929426663,"results":"17","hashOfConfig":"14"},{"size":16029,"mtime":1616191018413,"results":"18","hashOfConfig":"14"},{"size":14387,"mtime":1616191018409,"results":"19","hashOfConfig":"14"},{"size":2534,"mtime":1616191798895,"results":"20","hashOfConfig":"14"},{"size":716,"mtime":1616191018391,"results":"21","hashOfConfig":"14"},{"size":11435,"mtime":1616219482506,"results":"22","hashOfConfig":"14"},{"size":8758,"mtime":1616191018394,"results":"23","hashOfConfig":"14"},{"size":4300,"mtime":1616191018399,"results":"24","hashOfConfig":"14"},{"size":448,"mtime":1616192687245,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1szzkyh",{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"41"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"41"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"49","messages":"50","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},"C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\myApp\\Porest\\src\\main\\webapp\\src\\App.js",[],"C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\myApp\\Porest\\src\\main\\webapp\\src\\index.js",[],["56","57"],"C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\myApp\\Porest\\src\\main\\webapp\\src\\components\\routing\\AppRouter.jsx",[],["58","59"],"C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\myApp\\Porest\\src\\main\\webapp\\src\\components\\routing\\PrivateRouter.js",[],"C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\myApp\\Porest\\src\\main\\webapp\\src\\components\\login\\login.jsx",[],"C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\myApp\\Porest\\src\\main\\webapp\\src\\components\\home\\home.jsx",["60","61"],"import React from 'react'\r\nimport $ from 'jquery';\r\nimport { Grid, Tabs, Tab, AppBar, Toolbar, Typography, Avatar, BottomNavigation, BottomNavigationAction, Menu, MenuItem, ListItem, List, ListItemAvatar } from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { muiIcon } from '../../js/icons';\r\nimport TabPanel from '../common/TabPanel';\r\nimport {ReactComponent as PorestLogo} from '../../misc/logo/logo_green.svg';\r\nimport HomeTab from './home-tabs/homeTab';\r\nimport FriendsTab from './home-tabs/friendsTab';\r\nimport NotificationsTab from './home-tabs/notificationsTab';\r\nimport ProfileTab from './home-tabs/profileTab';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport '../../css/home/home.css';\r\n\r\nconst style = theme => ({\r\n  appBar: {\r\n    background: \"none\",\r\n    boxShadow: \"none\",\r\n    borderBottom: \"1px solid #dee2e6\",\r\n    backgroundColor:\"#fff\",\r\n    hasSuggested: false\r\n  },\r\n  sidebarTab: {\r\n    '& button:focus': {\r\n      outline:'none'\r\n    },\r\n    '& .MuiTab-wrapper' : {\r\n      alignItems:\"flex-start\"\r\n    },\r\n    '& .MuiTab-root': {\r\n      fontSize:\"1rem\",\r\n      fontWeight: \"bold!important\",\r\n      padding: \"0\",\r\n      borderRadius: \"10rem\",\r\n      paddingRight: \".9em\",\r\n      paddingLeft: \".9em\",\r\n      width: \"fit-content\",\r\n      minWidth:\"0 !important\",\r\n      [theme.breakpoints.down('md')]: {\r\n        fontSize:\".9rem\"\r\n      } \r\n    },\r\n    '& .MuiTab-root:hover' :{\r\n      backgroundColor: \"rgb(31 204 18 / 16%)\"\r\n    },\r\n    '& .MuiTab-root:first-child':{\r\n      opacity:\"1!important\"\r\n     },\r\n    '& .Mui-selected' : {\r\n      color: '#0bbd47',\r\n      fontWeight: 'bolder!important',\r\n      '& .MuiSvgIcon-root': {\r\n        color: '#0bbd47',\r\n      }\r\n    },\r\n    '& .MuiSvgIcon-root': {\r\n      color:\"#000\",\r\n      width:\"30px\",\r\n      height:\"30px\",\r\n    },\r\n    '& .MuiTabs-indicator' : {\r\n      display:\"none\"\r\n    },\r\n    '& .MuiBadge-root' : {\r\n      marginRight: \"20px\"\r\n    }\r\n  },\r\n  bottomNav : {\r\n    position: \"fixed\",\r\n    bottom : 0,\r\n    width: \"100%\",\r\n    [theme.breakpoints.up('sm')]: {\r\n      display : \"none\"\r\n    },\r\n    borderTop: \"1px solid #dee2e6\",\r\n    '& .Mui-selected' : {\r\n      color: '#0bbd47',\r\n      '& .MuiSvgIcon-root': {\r\n        color: '#0bbd47',\r\n      }\r\n    }\r\n  }\r\n})\r\n\r\nclass Home extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    const prop = this.props.location.state;\r\n    this.state = {\r\n      role: prop.role,\r\n      id: prop.id,\r\n      currTabpanel: 0,\r\n      mainTitle:\"Home\",\r\n      user: {},\r\n      currYear: \"\",\r\n      accountMenuAnchorEl: null,\r\n      requestsCount: 0,\r\n      suggestedUsers: [],\r\n      isSuggestedTab: false\r\n    }\r\n\r\n    document.title = \"Home | Porest\";\r\n  }\r\n\r\n  componentDidMount(){\r\n    let currYear = new Date().getFullYear();\r\n    this.setState({currYear: currYear })\r\n    this.getUser();\r\n    this.getFriendships();\r\n    this.getSuggestedUsers();\r\n  }\r\n\r\n  getUser(){\r\n    const that = this;\r\n    $.ajax({\r\n      url:\"getUserById\",\r\n      data: {\r\n        id: this.state.id\r\n      },\r\n      success: function(response) {\r\n        if(response.result === \"success\"){\r\n          that.setState({user: response.user})\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  getSuggestedUsers(){\r\n    const that = this;\r\n    $.ajax({\r\n      url: \"getOtherUsers\",\r\n      data: {\r\n        userId: this.state.id\r\n      },\r\n      success: function(response){\r\n        if(response.result === \"success\"){\r\n          that.setState({suggestedUsers: response.otherUsers, hasSuggested: false})\r\n          for(let user of response.otherUsers){\r\n            if(user.friendship === \"not friends\"){\r\n              that.setState({hasSuggested: true});\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  handleSidebarChange(e,newValue){\r\n    let pageText = \"Home\";\r\n    switch(newValue){\r\n      case 0:\r\n        pageText = \"Home\";\r\n        break;\r\n      case 1:\r\n        pageText = \"Profile\";\r\n        break;\r\n      case 2:\r\n        pageText = \"Friends\";\r\n        break;\r\n      case 3:\r\n        pageText = \"Messages\";\r\n        break;\r\n      case 4:\r\n        pageText = \"Notifications\";\r\n        break;\r\n      default:\r\n        pageText = \"Home\";\r\n        break;\r\n    }\r\n    this.setState({currTabpanel: newValue, mainTitle:pageText, isSuggestedTab: false });\r\n  }\r\n\r\n  handleBottomnavChange(e,newValue){\r\n    let pageText = e.target;\r\n    this.setState({currTabpanel: newValue});\r\n  }\r\n\r\n  logout(){\r\n     $.ajax({\r\n      url:\"logout\",\r\n      type:\"GET\"\r\n    })\r\n    localStorage.clear();\r\n  }\r\n\r\n  handleOpenAccountMenu(e){\r\n    this.setState({accountMenuAnchorEl: e.currenTarget})\r\n  }\r\n\r\n  getFriendships(id){\r\n    const that = this;\r\n    let userId = 0;\r\n\r\n    if(id){\r\n      userId = id;\r\n    }else{\r\n      userId = this.state.id;\r\n    }\r\n\r\n    $.ajax({\r\n      url: \"getFriendRequests\",\r\n      data: {\r\n        userId: userId\r\n      },\r\n      success: function(response){\r\n        that.setState({requestsCount: response.requestsCount})\r\n        if(response.requestsCount > 0){\r\n          document.title = \"(\" + response.requestsCount + \") Home | Porest\";\r\n        }else{\r\n          document.title = \"Home | Porest\";\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  handleSendFriendRequest(friendId){\r\n    const that = this;\r\n    $.ajax({\r\n      url: \"sendFriendRequest\",\r\n      data:{\r\n        requesterId: this.state.id,\r\n        friendId: friendId\r\n      },\r\n      success: function(response){\r\n        if(response.result === \"success\"){\r\n          that.getSuggestedUsers();\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  render(){\r\n    const { classes } = this.props;\r\n\r\n    return(\r\n      <div className=\"bg-white\">\r\n        <Grid container style={{height:\"100vh\"}}>\r\n          <Grid item xs={12} sm={3} md={3} className=\"d-none d-md-block\">\r\n            <div className=\"profile-bar border-right h-100 px-2 px-lg-5 pt-2\">\r\n              <Grid className=\"h-100 align-content-between\" container spacing={1}>\r\n                <Grid item xs={12}>\r\n                  <Tabs\r\n                    orientation=\"vertical\"\r\n                    className={classes.sidebarTab}\r\n                    value={this.state.currTabpanel}\r\n                    onChange={this.handleSidebarChange.bind(this)}\r\n                  >\r\n                    <Tab value={0} label={<div><PorestLogo style={{height:\"30px\", width:\"30px\",marginLeft:\"3px\"}}/></div>} />\r\n                    <Tab value={0} label={<div className=\"d-flex align-items-center\"><Badge>{muiIcon('homeIcon')}</Badge> Home</div>} />\r\n                    <Tab value={1} label={<div className=\"d-flex align-items-center\"><Badge>{muiIcon('personIcon')}</Badge> Profile</div>} />\r\n                    <Tab value={2} label={<div className=\"d-flex align-items-center\"><Badge>{muiIcon('friendsIcon')}</Badge> Friends</div>} />\r\n                    <Tab value={3} label={<div className=\"d-flex align-items-center\"><Badge>{muiIcon('mailIcon')}</Badge> Messages</div>} />\r\n                    <Tab value={4} label={<div className=\"d-flex align-items-center\"><Badge badgeContent={this.state.requestsCount} color=\"error\">{muiIcon('notifIcon')}</Badge> Notifications </div>} />\r\n                  </Tabs>\r\n\r\n                  <button className=\"sidebar-post-btn badge-pill mt-2 py-2 w-100\">Post</button>\r\n\r\n\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <button onClick={(e)=>{this.setState({accountMenuAnchorEl: e.target})}} className=\"sidebar-profile-badge\">\r\n                    \r\n                    <div className=\"d-flex\">\r\n                      <Avatar className=\"mr-2\"></Avatar>\r\n                      <div className=\"text-left\">\r\n                        <Typography variant=\"subtitle2\" color=\"inherit\" style={{fontWeight:\"bolder\"}}>\r\n                          {this.state.user.firstName}\r\n                        </Typography>\r\n                        <Typography variant=\"subtitle2\" style={{color:\"#7d7d7d\"}}>\r\n                          {this.state.user.email}\r\n                        </Typography>\r\n                      </div>\r\n                    </div>\r\n                    {muiIcon('moreVertical')}  \r\n                  </button>\r\n                  \r\n                  <Menu\r\n                    anchorEl={this.state.accountMenuAnchorEl}\r\n                    keepMounted\r\n                    open={Boolean(this.state.accountMenuAnchorEl)}\r\n                    onClose={()=>{this.setState({accountMenuAnchorEl: null})}}\r\n                  >\r\n                    <MenuItem><Link to=\"/login\" onClick={this.logout.bind(this)}>Logout</Link></MenuItem>\r\n                  </Menu>\r\n                </Grid>\r\n              </Grid>\r\n            </div>\r\n          </Grid>\r\n          <Grid item xs={12} sm={6} md={6} style={{maxHeight:\"100vh\",overflowY:\"auto\",backgroundColor:\"#fff\"}}>\r\n            <AppBar className={classes.appBar} position=\"sticky\" color=\"default\">\r\n              <Toolbar>\r\n                <Typography variant=\"h6\">\r\n                  <b>{this.state.mainTitle}</b>\r\n                </Typography>\r\n              </Toolbar>\r\n            </AppBar>\r\n\r\n            <TabPanel value={this.state.currTabpanel} index={0}>\r\n              <HomeTab userId={this.state.id}/>\r\n            </TabPanel>\r\n            <TabPanel value={this.state.currTabpanel} index={1}>\r\n              <ProfileTab/>\r\n            </TabPanel>\r\n            <TabPanel value={this.state.currTabpanel} index={2}>\r\n              <FriendsTab userId={this.state.id} resetSuggested={this.getSuggestedUsers.bind(this)} isSuggested={this.state.isSuggestedTab} />\r\n            </TabPanel>\r\n            <TabPanel value={this.state.currTabpanel} index={3}>\r\n              MESSAGES CONTENT\r\n            </TabPanel>\r\n            <TabPanel value={this.state.currTabpanel} index={4}>\r\n              <NotificationsTab userId={this.state.id} resetNotifBadge={this.getFriendships.bind(this)}/>\r\n            </TabPanel>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3} md={3} className=\"d-none d-lg-block\">\r\n            <div className=\"connections-bar border-left pt-2 px-3 position-relative\">\r\n              <div className=\"search-bar border\">\r\n                {muiIcon('searchIcon')}\r\n                <input className=\"ml-2\" type=\"text\" placeholder=\"Search Porest\"/>\r\n              </div>\r\n\r\n              <div className=\"right-side-bar-tab\">         \r\n                <div className=\"explore-people-tab\">\r\n                  <div className=\"p-3 font-weight-bold border-bottom\">\r\n                    Trending\r\n                  </div>\r\n                  <List>\r\n                    <ListItem button divider className=\"d-block\">\r\n                      Jolliwood Star Edgardo quotes \"I'm proud to be gay\" <Link >#pride</Link>\r\n                    </ListItem>\r\n                    <ListItem button divider>\r\n                      Dildos and Honey CEO John Christopher Tobias resigns after toxic dildos backlash.\r\n                    </ListItem>\r\n                    <ListItem button divider className=\"d-block\">\r\n                      Batang Hamog star Joshua Villas quits the show after 10 years. <Link>#Hamogago</Link>\r\n                    </ListItem>\r\n                  </List>\r\n                  <div className=\"p-3\">\r\n                    <Link>Show More</Link>\r\n                  </div>\r\n                </div>\r\n                {this.state.hasSuggested &&\r\n                  <div className=\"explore-people-tab\">\r\n                    <div className=\"p-3 font-weight-bold border-bottom\">Suggested People</div>\r\n                    <List>\r\n                      {this.state.suggestedUsers.map(item =>{\r\n                        if(item.friendship === \"not friends\"){\r\n                          return <ListItem button className={classes.listItem} key={item.key}>\r\n                            <ListItemAvatar>\r\n                              <Avatar></Avatar>\r\n                            </ListItemAvatar>\r\n                            <div className=\"d-flex justify-content-between w-100\">\r\n                              <div>\r\n                                <Typography variant=\"subtitle2\" color=\"inherit\" style={{fontWeight:\"bolder\"}}>\r\n                                  {item.user.firstName} {item.user.lastName}\r\n                                </Typography>\r\n                                <Typography variant=\"subtitle2\" style={{color:\"#7d7d7d\"}}>\r\n                                  {item.user.email}\r\n                                </Typography>\r\n                              </div>\r\n                            </div>\r\n                          </ListItem>\r\n                          }\r\n                      })}\r\n                    </List>\r\n                    <div className=\"border-top p-3\"><Link onClick={()=>{\r\n                      this.setState({currTabpanel: 2, mainTitle:\"Friends\", isSuggestedTab:true });\r\n                    }}>Show More</Link></div>\r\n                  </div>\r\n                }\r\n\r\n              </div>\r\n\r\n              <div className=\"p-3\" style={{bottom:0,fontSize:\".8rem\"}}>\r\n                <Grid container spacing={1}>\r\n                  <Grid item><Link>Terms of Service</Link></Grid>\r\n                  <Grid item><Link>Privacy Policy</Link></Grid>\r\n                  <Grid item><Link>Cookie Policy</Link></Grid>\r\n                  <Grid item><Link>Ads info</Link></Grid>\r\n                  <Grid item><Link>More info</Link></Grid>\r\n                  <Grid item><Link>© {this.state.currYear} Porest, Inc.</Link></Grid>\r\n                </Grid>\r\n              </div>\r\n            </div>\r\n\r\n           \r\n          </Grid>\r\n        </Grid>\r\n\r\n\r\n            <BottomNavigation value={this.state.currTabpanel} className={classes.bottomNav} onChange={this.handleSidebarChange.bind(this)}>\r\n              <BottomNavigationAction label=\"Home\" value={0} icon={muiIcon('homeIcon')} />\r\n              <BottomNavigationAction label=\"Profile\" value={1} icon={muiIcon('personIcon')} />\r\n              {/* <BottomNavigationAction label=\"Friends\" value={2} icon={muiIcon('friendsIcon')} /> */}\r\n              <BottomNavigationAction label=\"Messages\" value={3} icon={muiIcon('mailIcon')} />\r\n              <BottomNavigationAction label=\"Notifications\" value={4} icon={muiIcon('notifIcon')} />\r\n             \r\n            </BottomNavigation>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(style)(Home);",["62","63"],"C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\myApp\\Porest\\src\\main\\webapp\\src\\js\\icons.js",[],"C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\myApp\\Porest\\src\\main\\webapp\\src\\components\\common\\TabPanel.js",["64"],"import React from \"react\";\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\n\r\n\r\nexport default class TabPanel extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n  }\r\n  \r\n  render(){\r\n    const { children, value, index, ...other } = this.props;\r\n    return (\r\n        <div\r\n          role=\"tabpanel\"\r\n          hidden={value !== index}\r\n          id={`simple-tabpanel-${index}`}\r\n          aria-labelledby={`simple-tab-${index}`}\r\n          {...other}\r\n          \r\n        >\r\n          {value === index && (\r\n            <Box>\r\n              <Typography>{children}</Typography>\r\n            </Box>\r\n          )}\r\n        </div>\r\n      );\r\n  }\r\n  \r\n}","C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\myApp\\Porest\\src\\main\\webapp\\src\\components\\home\\home-tabs\\homeTab.jsx",["65","66","67","68","69"],"C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\myApp\\Porest\\src\\main\\webapp\\src\\components\\home\\home-tabs\\friendsTab.jsx",["70","71","72"],"import React from 'react';\r\nimport $ from 'jquery';\r\nimport { Link, IconButton, List, ListItem, ListItemAvatar, Avatar, Snackbar, Typography } from '@material-ui/core';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { muiIcon } from '../../../js/icons';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst style = theme => ({\r\n  backButton: {\r\n    '& .MuiIconButton-root': {\r\n      padding: \"5px\"\r\n    },\r\n    '& .MuiSvgIcon-root': {\r\n      fontSize: \"1.7rem\",\r\n      color: \"#0bbd47\"\r\n    }\r\n  },\r\n  listItem: {\r\n    backgroundColor: \"#fff\",\r\n    borderBottom: \"1px solid #dee2e6\",\r\n    '& .MuiListItem-root': {\r\n      alignItems: \"flex-start\"\r\n    }\r\n  }\r\n})\r\n\r\nclass FriendsTab extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      userId : this.props.userId,\r\n      suggestedTab: this.props.isSuggested,\r\n      haveFriends: false,\r\n      haveSentRequest: false,\r\n      friendRequestList: {},\r\n      suggestedUsers: [],\r\n      snackBarSuccess: false,\r\n      snackBarMessage: \"\"\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.getSuggestedUsers();\r\n  }\r\n\r\n  getSuggestedUsers(){\r\n    const that = this;\r\n    $.ajax({\r\n      url: \"getOtherUsers\",\r\n      data: {\r\n        userId: this.state.userId\r\n      },\r\n      success: function(response){\r\n        if(response.result === \"success\"){\r\n          let haveFriends = false;\r\n          let haveSentRequest  = false;\r\n          for(let item of response.otherUsers){\r\n            if(item.friendship === \"friends\"){\r\n              haveFriends = true;\r\n            }\r\n\r\n            if(item.friendship === \"sent request\"){\r\n              haveSentRequest = true;\r\n            }\r\n          }\r\n          that.setState({suggestedUsers: response.otherUsers, haveFriends: haveFriends, haveSentRequest: haveSentRequest})\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  handleSendFriendRequest(friendId){\r\n    const that = this;\r\n    $.ajax({\r\n      url: \"sendFriendRequest\",\r\n      data:{\r\n        requesterId: this.state.userId,\r\n        friendId: friendId\r\n      },\r\n      success: function(response){\r\n        if(response.result === \"success\"){\r\n          that.getSuggestedUsers();\r\n          that.setState({snackBarSuccess: true, snackBarMessage:\"Friend Request sent.\"})\r\n          that.props.resetSuggested();\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  handleUnfriend(friendshipId){\r\n    const that = this;\r\n    $.ajax({\r\n      url: \"deleteFriendship\",\r\n      data: {\r\n        id: friendshipId\r\n      },\r\n      success: function(response){\r\n        if(response.result === \"success\"){\r\n          that.getSuggestedUsers();\r\n          that.props.resetSuggested();\r\n          that.setState({snackBarSuccess: true, snackBarMessage:\"Unfriended succesfully.\"})\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  render(){\r\n    const { classes } = this.props;\r\n\r\n    if(this.state.suggestedTab){\r\n      return(\r\n        <div className=\"bg-white\">\r\n          <div className=\"font-weight-bold border-bottom p-1\">\r\n            <IconButton className={classes.backButton} onClick={() => {this.setState({suggestedTab: false})}}>\r\n              {muiIcon(\"arrowBackIcon\")}\r\n            </IconButton>\r\n            \r\n            <span className=\"ml-2\">People you may know</span>\r\n          </div>\r\n          <List className=\"p-0\">\r\n            {this.state.suggestedUsers.map(item =>{\r\n              if(item.friendship === \"not friends\"){\r\n                return <ListItem className={classes.listItem} key={item.key}>\r\n                  <ListItemAvatar>\r\n                    <Avatar></Avatar>\r\n                  </ListItemAvatar>\r\n                  <div className=\"d-flex justify-content-between w-100\">\r\n                    <div>\r\n                      <Typography variant=\"subtitle2\" color=\"inherit\" style={{fontWeight:\"bolder\"}}>\r\n                        {item.user.firstName} {item.user.lastName}\r\n                      </Typography>\r\n                      <Typography variant=\"subtitle2\" style={{color:\"#7d7d7d\"}}>\r\n                        {item.user.email}\r\n                      </Typography>\r\n                      <Typography variant=\"subtitle2\" color=\"inherit\">\r\n                        {item.about ? item.about : \"This person didn't bother to write something about themself.\"}\r\n                      </Typography>\r\n                    </div>\r\n                    <div>\r\n                      <button className=\"badge-pill outline-button p-2\" onClick={() => {this.handleSendFriendRequest(item.user.id)}}>Add Friend</button>\r\n                    </div>\r\n                  </div>\r\n                </ListItem>\r\n                }\r\n            })}\r\n          </List>\r\n\r\n        <Snackbar\r\n          open={this.state.snackBarSuccess}\r\n          autoHideDuration={4000}\r\n          onClose={()=>{this.setState({snackBarSuccess:false})}}\r\n        >\r\n          <MuiAlert elevation={6} variant=\"filled\" onClose={()=>{this.setState({snackBarSuccess:false})}} severity=\"success\">\r\n            {this.state.snackBarMessage} \r\n          </MuiAlert>\r\n        </Snackbar>\r\n        </div>\r\n      )\r\n    }\r\n    return(\r\n      <div>\r\n        {this.state.haveFriends ? \r\n          <div>\r\n            <List className=\"p-0\">\r\n              {this.state.suggestedUsers.map(item =>{\r\n                if(item.friendship === \"friends\"){\r\n                  return <ListItem className={classes.listItem} key={item.key}>\r\n                    <ListItemAvatar>\r\n                      <Avatar></Avatar>\r\n                    </ListItemAvatar>\r\n                    <div className=\"d-flex justify-content-between w-100\">\r\n                      <div>\r\n                        <Typography variant=\"subtitle2\" color=\"inherit\" style={{fontWeight:\"bolder\"}}>\r\n                          {item.user.firstName} {item.user.lastName}\r\n                        </Typography>\r\n                        <Typography variant=\"subtitle2\" style={{color:\"#7d7d7d\"}}>\r\n                          {item.user.email}\r\n                        </Typography>\r\n                      </div>\r\n                      <div>\r\n                        <button className=\"badge-pill outline-button p-2\" onClick={() => {this.handleUnfriend(item.friendshipId)}}>Unfriend</button>\r\n                      </div>\r\n                    </div>\r\n                  </ListItem>\r\n                  }\r\n              })}\r\n            </List>\r\n\r\n            <div className=\"p-4\">\r\n              Check out some <Link onClick={() => {this.setState({suggestedTab: true})}} style={{cursor:\"pointer\"}}>people</Link> and find friends!\r\n            </div>\r\n          </div>\r\n        : \r\n          <div className=\"p-4\">\r\n            Feels lonely in here. Check out some <Link onClick={() => {this.setState({suggestedTab: true})}} style={{cursor:\"pointer\"}}>people</Link> and find friends!\r\n          </div>}\r\n\r\n          {this.state.haveSentRequest && \r\n            <div>\r\n              <div className=\"font-weight-bold border-bottom border-top p-1 mt-3\">\r\n                <span className=\"ml-2\">Pending Friend Requests</span>\r\n              </div>\r\n              <List className=\"p-0\">\r\n                {this.state.suggestedUsers.map(item =>{\r\n                  if(item.friendship === \"sent request\"){\r\n                    return <ListItem className={classes.listItem} key={item.key}>\r\n                      <ListItemAvatar>\r\n                        <Avatar></Avatar>\r\n                      </ListItemAvatar>\r\n                      <div className=\"d-flex justify-content-between w-100\">\r\n                        <div>\r\n                          <Typography variant=\"subtitle2\" color=\"inherit\" style={{fontWeight:\"bolder\"}}>\r\n                            {item.user.firstName} {item.user.lastName}\r\n                          </Typography>\r\n                          <Typography variant=\"subtitle2\" style={{color:\"#7d7d7d\"}}>\r\n                            {item.user.email}\r\n                          </Typography>\r\n                        </div>\r\n                        <div>\r\n                          <button className=\"badge-pill outline-button p-2\" onClick={() => {this.handleUnfriend(item.friendshipId)}}>Cancel</button>\r\n                        </div>\r\n                      </div>\r\n                    </ListItem>\r\n                    }\r\n                })}\r\n              </List>\r\n            </div>\r\n          }\r\n\r\n        <Snackbar\r\n          open={this.state.snackBarSuccess}\r\n          autoHideDuration={4000}\r\n          onClose={()=>{this.setState({snackBarSuccess:false})}}\r\n        >\r\n          <MuiAlert elevation={6} variant=\"filled\" onClose={()=>{this.setState({snackBarSuccess:false})}} severity=\"success\">\r\n            {this.state.snackBarMessage} \r\n          </MuiAlert>\r\n        </Snackbar>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(style) (FriendsTab);","C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\myApp\\Porest\\src\\main\\webapp\\src\\components\\home\\home-tabs\\notificationsTab.jsx",[],"C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\myApp\\Porest\\src\\main\\webapp\\src\\components\\home\\home-tabs\\profileTab.jsx",[],{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","replacedBy":"76"},{"ruleId":"73","replacedBy":"77"},{"ruleId":"75","replacedBy":"78"},{"ruleId":"79","severity":1,"message":"80","line":177,"column":9,"nodeType":"81","messageId":"82","endLine":177,"endColumn":17},{"ruleId":"83","severity":1,"message":"84","line":349,"column":59,"nodeType":"85","messageId":"86","endLine":349,"endColumn":61},{"ruleId":"73","replacedBy":"87"},{"ruleId":"75","replacedBy":"88"},{"ruleId":"89","severity":1,"message":"90","line":7,"column":3,"nodeType":"91","messageId":"92","endLine":9,"endColumn":4},{"ruleId":"79","severity":1,"message":"93","line":3,"column":10,"nodeType":"81","messageId":"82","endLine":3,"endColumn":16},{"ruleId":"79","severity":1,"message":"94","line":3,"column":39,"nodeType":"81","messageId":"82","endLine":3,"endColumn":43},{"ruleId":"95","severity":1,"message":"96","line":146,"column":33,"nodeType":"97","messageId":"98","endLine":146,"endColumn":35},{"ruleId":"99","severity":1,"message":"100","line":252,"column":23,"nodeType":"101","endLine":252,"endColumn":149},{"ruleId":"95","severity":1,"message":"96","line":277,"column":59,"nodeType":"97","messageId":"98","endLine":277,"endColumn":61},{"ruleId":"83","severity":1,"message":"84","line":121,"column":49,"nodeType":"85","messageId":"86","endLine":121,"endColumn":51},{"ruleId":"83","severity":1,"message":"84","line":165,"column":51,"nodeType":"85","messageId":"86","endLine":165,"endColumn":53},{"ruleId":"83","severity":1,"message":"84","line":204,"column":53,"nodeType":"85","messageId":"86","endLine":204,"endColumn":55},"no-native-reassign",["102"],"no-negated-in-lhs",["103"],["102"],["103"],"no-unused-vars","'pageText' is assigned a value but never used.","Identifier","unusedVar","array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd",["102"],["103"],"no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","'Button' is defined but never used.","'Card' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-global-assign","no-unsafe-negation"]